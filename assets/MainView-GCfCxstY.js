import{e as u,a as c,o as r,b as l,w as x,v as b,d as v,f as k,n as g,i as C,g as w,h as M,F as y,j as S,u as j}from"./index-BRHEIm4F.js";import{A as f}from"./AppButton-DSUraSYj.js";const L={class:"text-sm md:text-xl inset-shadow-sm inset-shadow-indigo-500 rounded-2xl bg-white"},N=["disabled"],V={class:"flex gap-3"},B={class:"text-sm md:text-xl inset-shadow-sm inset-shadow-indigo-500 rounded-2xl bg-white max-w-15 md:max-w-20"},O=["disabled"],A={__name:"PlayerCard",props:{player:Object},emits:["openModal"],setup(t){const n=u(null),e=u(null);return(i,s)=>(r(),c("div",{class:g([{"bg-indigo-200 shadow-md hover:shadow-indigo-300":t.player.place===0,"bg-green-500":t.player.place===1,"bg-amber-500":t.player.place===2,"bg-gray-500":t.player.place>2},"flex gap-4 p-4 justify-between rounded-xl transition"])},[l("div",L,[x(l("input",{"onUpdate:modelValue":s[0]||(s[0]=d=>e.value=d),disabled:t.player.lock,class:"outline-0 w-full h-full p-3",type:"text",placeholder:"Имя игрока"},null,8,N),[[b,e.value]])]),l("div",V,[v(f,{onClick:s[1]||(s[1]=k(d=>i.$emit("openModal",t.player.id,n.value,e.value),["prevent"])),disabled:t.player.lock,color:"orange",title:"LOCK"},null,8,["disabled"]),l("div",B,[x(l("input",{"onUpdate:modelValue":s[2]||(s[2]=d=>n.value=d),disabled:t.player.lock,class:g([t.player.lock?"blur-sm disabled:pointer-events-none":"blur-none","text-center outline-0 w-full h-full p-3 min-w-[50px]"]),type:"text",placeholder:"Очки"},null,10,O),[[b,n.value]])])])],2))}},z={class:"fixed z-50 top-0 left-0 h-full w-full bg-black/50 flex justify-center items-center"},D={class:"min-h-[250px] w-[400px] py-5 px-7 mx-5 bg-white flex flex-col gap-4 items-center justify-center rounded-2xl"},F={class:"flex justify-between w-full gap-3"},P={__name:"AppModal",emits:["lockScore","notLockScore"],setup(t){return(n,e)=>(r(),c("div",z,[l("div",D,[e[2]||(e[2]=l("h2",{class:"text-3xl font-bold text-center"},"Зафиксировать результат?",-1)),e[3]||(e[3]=l("p",{class:"text-red-600 text-center"}," После подтверждения результата изменить значение очков нельзя! ",-1)),l("div",F,[v(f,{title:"Ну да!",color:"green",full:"",onClick:e[0]||(e[0]=i=>n.$emit("lockScore"))}),v(f,{title:"Пока нет!",color:"orange",full:"",onClick:e[1]||(e[1]=i=>n.$emit("notLockScore"))})])])]))}},T={class:"flex flex-col gap-4"},U={__name:"PlayerCardList",setup(t){const n=C("users"),e=u(!1),i=u(null),s=u(null),d=u(null),h=(p,o,a)=>{e.value=!0,i.value=p,s.value=o,d.value=a},$=(p,o,a)=>{n.value.map(m=>{m.id===p&&(m.lock=!0,m.score=o,m.name=a)}),e.value=!1};function _(){n.value.push({id:new Date().getTime(),name:null,score:null,lock:!1,place:0})}return(p,o)=>(r(),c(y,null,[l("div",T,[(r(!0),c(y,null,S(j(n),a=>(r(),w(A,{onOpenModal:h,player:a,key:a.id},null,8,["player"]))),128)),l("button",{type:"button",class:"py-3 px-5 shadow-sm rounded-2xl border border-transparent transition cursor-pointer hover:bg-indigo-200",onClick:o[0]||(o[0]=k(a=>_(),["prevent"]))}," Добавить игрока ")]),e.value?(r(),w(P,{key:0,onLockScore:o[1]||(o[1]=a=>$(i.value,s.value)),onNotLockScore:o[2]||(o[2]=a=>e.value=!1)})):M("",!0)],64))}},E={class:"bg-indigo-100 min-h-dvh"},I={class:"h-fit p-4"},K={class:"container mx-auto"},H={__name:"MainView",setup(t){return(n,e)=>(r(),c("div",E,[l("main",I,[l("div",K,[v(U)])])]))}};export{H as default};
